<div class="form-container">
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="child-name">{{ user.name }}</div>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let element">{{element.id}}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element">{{element.name}}</td>
      </ng-container>

      <!-- Points Column -->
      <ng-container matColumnDef="points">
        <th mat-header-cell *matHeaderCellDef>Points</th>
        <td mat-cell *matCellDef="let element">{{element.points}}</td>
      </ng-container>

      <!-- Repeat Column -->
      <ng-container matColumnDef="repeat">
        <th mat-header-cell *matHeaderCellDef>Repeat</th>
        <td mat-cell *matCellDef="let element">{{element.repeat}}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-button (click)="addRow()" type="button">+ Add</button>
        </th>
        <td mat-cell *matCellDef="let element">
          <button mat-button (click)="editRow(element)" type="button"><mat-icon>edit</mat-icon></button>
          <button mat-button (click)="deleteRow(element.id)" type="button"><mat-icon>delete</mat-icon></button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        (click)="clickedRows.add(row)"
        [class.demo-row-is-clicked]="clickedRows.has(row)"
        *matRowDef="let row; columns: displayedColumns;"
      ></tr>
    </table>

<!--    @if (!clickedRows.size) {-->
<!--      <div>Clicked rows will be logged here</div>-->
<!--    }-->

<!--    <ul>-->
<!--      @for (clickedRow of clickedRows; track clickedRow) {-->
<!--        <li>Clicked on {{clickedRow.name}}</li>-->
<!--      }-->
<!--    </ul>-->
  <button mat-flat-button type="submit" class="submit" [class.disabled]="form.invalid">Go to calendar</button>
  </form>
</div>
